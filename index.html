<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontpage | Your AI Newsroom</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], serif: ['Merriweather', 'serif'] },
                    colors: { void: '#050505', primary: '#8b5cf6', secondary: '#22c55e' },
                    animation: { 'marquee': 'marquee 120s linear infinite' },
                    keyframes: { marquee: { '0%': { transform: 'translateX(0%)' }, '100%': { transform: 'translateX(-100%)' } } }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #050505;
            color: white;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .glass-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .glass-btn.selected {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.2);
        }

        .coming-soon {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20;
            border-radius: 1.5rem;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        const { motion, AnimatePresence } = window.Motion;

        const Icons = {
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Globe: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>,
            Briefcase: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>,
            Film: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>,
            Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>,
            Star: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>,
            Newspaper: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path><path d="M18 14h-8"></path><path d="M15 18h-5"></path><path d="M10 6h8v4h-8V6Z"></path></svg>,
            Play: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>,
            CheckSmall: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>,
            Lock: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>,
            Close: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>,
            Send: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>,
            Twitter: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
        };

        const CATEGORIES = [
            { id: 'tech', label: 'Technology', icon: <Icons.Zap /> },
            { id: 'politics', label: 'Politics', icon: <Icons.Globe /> },
            { id: 'business', label: 'Business', icon: <Icons.Briefcase /> },
            { id: 'entertainment', label: 'Entertainment', icon: <Icons.Film /> },
            { id: 'science', label: 'Science', icon: <Icons.Activity /> },
            { id: 'lifestyle', label: 'Lifestyle', icon: <Icons.Star /> }
        ];

        const BASE_STORIES = [
            // --- TECH ---
            { cat: 'tech', title: "OpenAI GPT-5 Launch", summary: "New model achieves human-level reasoning scores.", img: "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&q=80", source: "The Verge" },
            { cat: 'tech', title: "Apple Vision Pro 2", summary: "Lighter, cheaper headset targets mass market.", img: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&q=80", source: "Bloomberg" },
            { cat: 'tech', title: "Nvidia Market Cap Hits $4T", summary: "AI chip demand continues historic rally.", img: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=800&q=80", source: "Reuters" },
            { cat: 'tech', title: "SpaceX Mars Mission", summary: "Starship successfully completes orbital refueling.", img: "https://images.unsplash.com/photo-1517976487492-5750f3195933?w=800&q=80", source: "SpaceNews" },
            { cat: 'tech', title: "Quantum Chip Breakthrough", summary: "Google claims error-corrected logical qubits.", img: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&q=80", source: "MIT Tech Review" },
            { cat: 'tech', title: "Tesla Robotaxi Fleet", summary: "Regulatory approval granted in 3 states.", img: "https://images.unsplash.com/photo-1560613200-e79d50ad8c0d?w=800&q=80", source: "Electrek" },
            { cat: 'tech', title: "Windows 12 AI Integration", summary: "OS rewrite focuses entirely on Copilot.", img: "https://images.unsplash.com/photo-1614064641938-3e852943af8c?w=800&q=80", source: "PCMag" },
            { cat: 'tech', title: "TikTok Divestiture Deal", summary: "Oracle/Walmart bid resurfaces amid ban fears.", img: "https://images.unsplash.com/photo-1611162616475-46b635cb6868?w=800&q=80", source: "CNBC" },
            { cat: 'tech', title: "Solid State Batteries", summary: "Toyota demos 900-mile EV range prototype.", img: "https://images.unsplash.com/photo-1593941707882-a5bba14938c7?w=800&q=80", source: "Ars Technica" },
            { cat: 'tech', title: "Meta VR Glove", summary: "Haptic feedback prototype feels indistinguishable from reality.", img: "https://images.unsplash.com/photo-1555664424-778a69631079?w=800&q=80", source: "UploadVR" },
            // --- POLITICS ---
            { cat: 'politics', title: "Global Climate Treaty", summary: "Nations agree to accelerated coal phase-out.", img: "https://images.unsplash.com/photo-1569163139599-0f4517e36f51?w=800&q=80", source: "AP News" },
            { cat: 'politics', title: "EU Digital ID Law", summary: "Parliament passes unified wallet regulation.", img: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?w=800&q=80", source: "Euronews" },
            { cat: 'politics', title: "Swing State Polls", summary: "Dead heat in Michigan and Pennsylvania.", img: "https://images.unsplash.com/photo-1540910419868-4749459ca6c8?w=800&q=80", source: "Politico" },
            { cat: 'politics', title: "Border Funding Bill", summary: "Bipartisan deal reached after months of delay.", img: "https://images.unsplash.com/photo-1541872703-74c5963631df?w=800&q=80", source: "The Hill" },
            { cat: 'politics', title: "UN Security Council", summary: "Emergency session called on regional conflict.", img: "https://images.unsplash.com/photo-1529108190281-9a4f620bc2d8?w=800&q=80", source: "Reuters" },
            { cat: 'politics', title: "Healthcare Price Cap", summary: "New legislation targets insulin costs.", img: "https://images.unsplash.com/photo-1532938911079-1b06ac7ceec7?w=800&q=80", source: "NPR" },
            { cat: 'politics', title: "Pacific Trade Pact", summary: "US re-enters negotiations with Asian allies.", img: "https://images.unsplash.com/photo-1526304640152-d4619684e484?w=800&q=80", source: "Nikkei" },
            { cat: 'politics', title: "Supreme Court Tech Ruling", summary: "Section 230 protections upheld unanimously.", img: "https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&q=80", source: "SCOTUSblog" },
            // --- BUSINESS ---
            { cat: 'business', title: "Fed Interest Rate Cut", summary: "Central bank signals victory over inflation.", img: "https://images.unsplash.com/photo-1611974765270-ca12586343bb?w=800&q=80", source: "WSJ" },
            { cat: 'business', title: "Bitcoin Surges to $90k", summary: "Institutional inflows drive record high.", img: "https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80", source: "Coindesk" },
            { cat: 'business', title: "Amazon Drone Expansion", summary: "Delivery now active in 10 major metro areas.", img: "https://images.unsplash.com/photo-1523474253046-8cd2748b5fd2?w=800&q=80", source: "CNBC" },
            { cat: 'business', title: "SaaS IPO Market Thaws", summary: "Databricks files for long-awaited public offering.", img: "https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80", source: "TechCrunch" },
            { cat: 'business', title: "Oil Market Volatility", summary: "OPEC+ cuts fail to stabilize prices.", img: "https://images.unsplash.com/photo-1580974511812-4b798602b631?w=800&q=80", source: "Bloomberg" },
            { cat: 'business', title: "Remote Work Data", summary: "Productivity remains high in hybrid models.", img: "https://images.unsplash.com/photo-1593642532400-2682810df593?w=800&q=80", source: "Forbes" },
            { cat: 'business', title: "Housing Market Cooling", summary: "Mortgage rates dip, but inventory stays low.", img: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&q=80", source: "Redfin" },
            { cat: 'business', title: "Retail Sales Beat", summary: "Consumer spending resilient despite headwinds.", img: "https://images.unsplash.com/photo-1556740758-90de374c12ad?w=800&q=80", source: "Business Insider" },
            // --- SCIENCE ---
            { cat: 'science', title: "Nuclear Fusion Record", summary: "JET reactor sustains output for 5 seconds.", img: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?w=800&q=80", source: "Nature" },
            { cat: 'science', title: "James Webb Exoplanet", summary: "Methane detected in atmosphere of K2-18b.", img: "https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?w=800&q=80", source: "NASA" },
            { cat: 'science', title: "CRISPR 2.0", summary: "New technique reduces off-target edits by 99%.", img: "https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&q=80", source: "Science" },
            { cat: 'science', title: "Viking History Rewritten", summary: "DNA study reveals diverse ancestry.", img: "https://images.unsplash.com/photo-1518331483807-f63901b0d2d8?w=800&q=80", source: "NatGeo" },
            { cat: 'science', title: "Coral Reef Recovery", summary: "Lab-grown coral successfully transplanted.", img: "https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=800&q=80", source: "NOAA" },
            { cat: 'science', title: "Neuralink Trial Success", summary: "First human patient plays chess telepathically.", img: "https://images.unsplash.com/photo-1559757175-0eb30cd8c063?w=800&q=80", source: "Wired" },
            { cat: 'science', title: "SpaceX Starship Orbit", summary: "Launch reaches velocity for first time.", img: "https://images.unsplash.com/photo-1541185933-710f50746747?w=800&q=80", source: "Ars Technica" },
            { cat: 'science', title: "Alzheimer's Drug Approval", summary: "FDA fast-tracks new antibody treatment.", img: "https://images.unsplash.com/photo-1584362917165-526a968579e8?w=800&q=80", source: "Stat News" },
            // --- LIFESTYLE & ENTERTAINMENT ---
            { cat: 'entertainment', title: "GTA VI Release Window", summary: "Rockstar confirms holiday 2025 launch.", img: "https://images.unsplash.com/photo-1592155931584-901ac15763e3?w=800&q=80", source: "IGN" },
            { cat: 'entertainment', title: "Oscars 2025", summary: "Oppenheimer director sweeps awards.", img: "https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80", source: "Variety" },
            { cat: 'entertainment', title: "Spotify HiFi Tier", summary: "Lossless audio finally rolling out.", img: "https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=800&q=80", source: "The Verge" },
            { cat: 'lifestyle', title: "Top Destinations 2025", summary: "Portugal and Japan lead value travel list.", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=800&q=80", source: "Condé Nast" },
            { cat: 'lifestyle', title: "Warm Minimalism", summary: "Interior design shifts away from grey.", img: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&q=80", source: "ArchDigest" },
            { cat: 'lifestyle', title: "Coffee Supply Crisis", summary: "Climate change impact on Arabica beans.", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=800&q=80", source: "Sprudge" }
        ];

        // Generate 100 cards by looping through the base stories (NO PREFIXES)
        const ALL_STORIES = [];
        for (let i = 0; i < 100; i++) {
            const template = BASE_STORIES[i % BASE_STORIES.length];
            ALL_STORIES.push({
                ...template,
                id: i
            });
        }

        // Smart fallback images by category
        const FALLBACK_IMAGES = {
            tech: [
                "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&q=80", // Chip
                "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=800&q=80", // Cyber
                "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80", // Network
                "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&q=80", // Code
                "https://images.unsplash.com/photo-1531297461136-82088dfd355c?w=800&q=80"  // Tech Office
            ],
            politics: [
                "https://images.unsplash.com/photo-1555848962-6e79363ec58f?w=800&q=80", // Building
                "https://images.unsplash.com/photo-1529108190281-9a4f620bc2d8?w=800&q=80", // Meeting
                "https://images.unsplash.com/photo-1541872703-74c5963631df?w=800&q=80", // Flags
                "https://images.unsplash.com/photo-1575320181282-9afab399332c?w=800&q=80", // Microphone
                "https://images.unsplash.com/photo-1461301214746-1e790926d323?w=800&q=80"  // Vote
            ],
            business: [
                "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&q=80", // Graph
                "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?w=800&q=80", // Handshake
                "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80", // Skyscraper
                "https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=800&q=80", // Suits
                "https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&q=80"  // Planning
            ],
            default: [
                "https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&q=80", // News
                "https://images.unsplash.com/photo-1495020689067-958852a7765e?w=800&q=80", // Paper
                "https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=800&q=80"  // TV
            ]
        };

        const getSmartFallback = (cat) => {
            const options = FALLBACK_IMAGES[cat] || FALLBACK_IMAGES.default;
            return options[Math.floor(Math.random() * options.length)];
        };

        function App() {
            const [view, setView] = useState('landing');
            const [selectedCategories, setSelectedCategories] = useState([]);
            const [storyQueue, setStoryQueue] = useState([]);
            const [approvedStories, setApprovedStories] = useState([]);
            const [showSignup, setShowSignup] = useState(false);

            useEffect(() => {
                const handleLinkClick = (e) => { const href = e.target.getAttribute('href'); if (href && href.startsWith('#') && href !== '#') { e.preventDefault(); const element = document.querySelector(href); if (element) { element.scrollIntoView({ behavior: 'smooth' }); } } };
                document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', handleLinkClick); });
                return () => document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.removeEventListener('click', handleLinkClick); });
            }, [view]);

            const startConfig = () => setView('config');
            const initAgent = (categoriesToUse) => {
                const cats = categoriesToUse || selectedCategories;
                let pool = [];

                if (cats.length === 0 || cats.includes('all')) {
                    pool = [...ALL_STORIES];
                } else {
                    // STRICT FILTER: Only show stories that match the selected IDs
                    pool = ALL_STORIES.filter(s => cats.includes(s.cat));
                }

                // Shuffle the unique stories
                for (let i = pool.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [pool[i], pool[j]] = [pool[j], pool[i]];
                }

                setStoryQueue(pool);
                setView('swipe');
            };
            const handleApprove = (story) => { const newApproved = [...approvedStories, story]; setApprovedStories(newApproved); if (newApproved.length >= 12) { setTimeout(() => setView('newsroom'), 500); } };
            const handleCloseNewsroom = () => { setView('landing'); setApprovedStories([]); setStoryQueue([]); }

            return (
                <div className="min-h-screen bg-void text-white selection:bg-primary selection:text-white overflow-x-hidden">
                    <nav className="fixed top-0 w-full z-50 glass-panel border-b-0 border-b-white/5"><div className="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between"><div className="flex items-center gap-2 font-bold text-xl tracking-tight cursor-pointer" onClick={() => setView('landing')}><div className="w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center"><Icons.Newspaper /></div><span>Frontpage</span></div><div className="hidden md:flex items-center gap-8 text-sm font-medium text-gray-400"><a href="#features" className="hover:text-white transition-colors">Features</a><a href="#pricing" className="hover:text-white transition-colors">Pricing</a><a href="#founder" className="hover:text-white transition-colors">About</a></div><button onClick={() => setShowSignup(true)} className="bg-white text-black px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-200 transition-colors">Get Started</button></div></nav>
                    <main className="pt-16">
                        {view === 'landing' && <LandingView onStart={startConfig} onSignup={() => setShowSignup(true)} onInitAgent={initAgent} />}
                        {view === 'config' && <ConfigView selected={selectedCategories} setSelected={setSelectedCategories} onNext={initAgent} />}
                        {view === 'swipe' && <SwipeView queue={storyQueue} onApprove={handleApprove} approvedCount={approvedStories.length} onComplete={() => setView('newsroom')} />}
                        {view === 'newsroom' && <NewsroomView stories={approvedStories} onClose={handleCloseNewsroom} onSignup={() => setShowSignup(true)} />}
                    </main>
                    <AnimatePresence>{showSignup && <SignupModal onClose={() => setShowSignup(false)} />}</AnimatePresence>
                    {view !== 'swipe' && (<footer className="border-t border-white/10 py-12 bg-black"><div className="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6"><p className="text-gray-500 text-sm">© 2025 Frontpage AI.</p><div className="flex items-center gap-2 text-sm text-gray-500"><span>Built in public by</span><a href="#founder" className="text-primary hover:underline">Hamza Azhar Salam</a></div></div></footer>)}
                </div>
            );
        }

        function LandingView({ onStart, onSignup, onInitAgent }) {
            return (
                <>
                    <section className="relative pt-32 pb-20 overflow-hidden"><div className="absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-primary/20 via-void to-void pointer-events-none" /><div className="relative max-w-4xl mx-auto px-6 text-center z-10"><div className="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-primary/30 bg-primary/10 text-primary text-sm font-medium mb-8"><span className="relative flex h-2 w-2"><span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span><span className="relative inline-flex rounded-full h-2 w-2 bg-primary"></span></span> AI Newsroom 2.0 Live</div><h1 className="text-5xl md:text-7xl font-bold tracking-tight mb-8">Your AI Newsroom <br /><span className="text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-gray-500 drop-shadow-[0_0_15px_rgba(139,92,246,0.5)]">That Never Sleeps</span></h1><p className="text-xl text-gray-400 max-w-2xl mx-auto mb-10 leading-relaxed">Publish 300 stories a month. Zero writers. AI-powered news that runs 24/7 while you focus on what matters.</p><div className="flex flex-col sm:flex-row gap-4 justify-center items-center"><button onClick={onSignup} className="px-8 py-4 bg-white text-black font-semibold rounded-xl hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.2)]">Start Free Trial</button><a href="#demo-section" className="group px-8 py-4 glass-btn text-white font-semibold rounded-xl flex items-center gap-2"><Icons.Zap /> See it in Action</a></div><div className="mt-16 pt-8 border-t border-white/5 max-w-lg mx-auto text-center"><p className="text-gray-500 text-sm font-medium uppercase tracking-widest mb-4">Our Mission</p><p className="text-xl text-white/80 font-serif italic">"Automating the workflow for independent journalists and modern publishers."</p></div></div></section>
                    <div id="demo-section" className="py-20 bg-void relative"><div className="max-w-7xl mx-auto px-6"><div className="text-center mb-10"><h2 className="text-3xl font-bold mb-2">Try the Engine</h2><p className="text-gray-400">Configure your agent, approve stories, and generate a live newsroom in seconds.</p></div><div className="glass-panel rounded-3xl overflow-hidden min-h-[600px] relative border border-white/10 shadow-2xl shadow-primary/5"><ConfigView selected={[]} setSelected={() => { }} onNext={onInitAgent} isLandingPreview={true} /></div></div></div>
                    <FeaturesSection /><RequestNiche /><PricingSection onSignup={onSignup} /><FounderSection />
                </>
            );
        }

        function ConfigView({ selected, setSelected, onNext }) {
            const [localSelected, setLocalSelected] = useState(selected);
            useEffect(() => { setLocalSelected(selected) }, [selected]);
            const toggle = (id) => { let newState; if (id === 'all') { newState = localSelected.length === CATEGORIES.length ? [] : CATEGORIES.map(c => c.id); } else { newState = localSelected.includes(id) ? localSelected.filter(x => x !== id) : [...localSelected, id]; } setLocalSelected(newState); setSelected(newState); };
            return (<div className="h-full flex flex-col items-center justify-center p-8 relative min-h-[500px]"><div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-primary/5 rounded-full blur-[80px] pointer-events-none" /><motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} className="relative z-10 w-full max-w-2xl text-center"><h3 className="text-2xl font-bold mb-8">Step 1: Configure Your Beat</h3><div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-10">{CATEGORIES.map(cat => (<button key={cat.id} onClick={() => toggle(cat.id)} className={`glass-btn p-4 rounded-xl flex flex-col items-center gap-3 group ${localSelected.includes(cat.id) ? 'selected' : ''}`}><div className={`p-2 rounded-full ${localSelected.includes(cat.id) ? 'bg-primary text-white' : 'bg-white/5 text-gray-400 group-hover:text-white'} transition-colors`}>{cat.icon}</div><span className="font-medium text-sm">{cat.label}</span></button>))}</div><button onClick={() => onNext(localSelected)} disabled={localSelected.length === 0} className="px-8 py-3 bg-primary hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-lg shadow-primary/25 transition-all">Initialize Agent</button></motion.div></div>);
        }

        function SwipeView({ queue, onApprove, approvedCount, onComplete }) {
            const [index, setIndex] = useState(0);
            const currentStory = queue[index];

            const handleSwipe = useCallback((direction) => {
                const story = queue[index];

                if (direction === 'right') {
                    onApprove(story);
                }

                // Move to next card, or loop back to 0 if at end (INFINITE MODE)
                const nextIndex = index + 1;
                if (nextIndex >= queue.length) {
                    setIndex(0); // Recycle deck
                } else {
                    setIndex(nextIndex);
                }
            }, [index, queue, onApprove]);

            useEffect(() => { const handleKeyDown = (e) => { if (e.key === 'ArrowLeft') handleSwipe('left'); if (e.key === 'ArrowRight') handleSwipe('right'); }; window.addEventListener('keydown', handleKeyDown); return () => window.removeEventListener('keydown', handleKeyDown); }, [handleSwipe]);

            if (!currentStory) return <div className="flex items-center justify-center h-full"><p>Finalizing newsroom...</p></div>;
            const progress = (approvedCount / 12) * 100;
            return (<div className="h-full flex flex-col items-center justify-center p-4 relative overflow-hidden min-h-[600px]"><div className="absolute top-0 left-0 w-full h-1 bg-gray-800"><motion.div className="h-full bg-secondary" initial={{ width: 0 }} animate={{ width: `${progress}%` }} /></div><div className="absolute top-4 w-full text-center text-xs font-bold uppercase tracking-wider text-gray-400">Curating Content ({approvedCount}/12)</div><div className="relative w-full max-w-sm aspect-[3/4] mt-8"><AnimatePresence mode="popLayout"><motion.div key={currentStory.id} initial={{ scale: 0.95, opacity: 0, y: 20 }} animate={{ scale: 1, opacity: 1, y: 0 }} exit={{ scale: 1.1, opacity: 0, x: 0 }} className="absolute inset-0 bg-gray-900 border border-white/10 rounded-2xl overflow-hidden shadow-2xl flex flex-col"><div className="relative h-3/5 overflow-hidden"><div className="absolute top-4 left-4 z-10"><span className="px-3 py-1 bg-black/60 backdrop-blur text-xs font-bold uppercase tracking-wider rounded-full border border-white/10">{CATEGORIES.find(c => c.id === currentStory.cat)?.label}</span></div><img src={currentStory.img} className="w-full h-full object-cover" onError={(e) => { e.target.onerror = null; e.target.src = getSmartFallback(currentStory.cat); }} /><div className="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent" /><div className="absolute bottom-4 right-4 z-10"><span className="flex items-center gap-1.5 px-2 py-1 bg-black/40 backdrop-blur-md text-[10px] font-semibold text-white/80 rounded border border-white/10"><Icons.Globe /> Source: {currentStory.source}</span></div></div><div className="p-6 flex-1 flex flex-col justify-between"><div><h3 className="text-xl font-bold leading-tight mb-2">{currentStory.title}</h3><p className="text-gray-400 text-sm line-clamp-3">{currentStory.summary}</p></div><div className="flex items-center gap-2 text-xs text-gray-500 mt-2"><div className="w-1.5 h-1.5 rounded-full bg-secondary animate-pulse"></div><span>AI Generated • Just now</span></div></div></motion.div></AnimatePresence></div><div className="flex gap-8 mt-8 z-10"><button onClick={() => handleSwipe('left')} className="w-14 h-14 rounded-full bg-gray-800 border border-white/10 text-red-500 flex items-center justify-center hover:bg-gray-700 hover:scale-110 transition-all shadow-lg"><Icons.X /></button><button onClick={() => handleSwipe('right')} className="w-14 h-14 rounded-full bg-gray-800 border border-white/10 text-secondary flex items-center justify-center hover:bg-gray-700 hover:scale-110 transition-all shadow-lg shadow-secondary/20"><Icons.Check /></button><div className="absolute bottom-6 text-xs text-gray-500 font-medium">Use <span className="px-1 border border-white/10 rounded">←</span> <span className="px-1 border border-white/10 rounded">→</span> keys</div></div></div>);
        }

        function NewsroomView({ stories, onClose, onSignup }) {
            return (<div className="absolute inset-0 z-50 bg-white text-black overflow-y-auto"><header className="border-b border-gray-200 bg-white sticky top-0 z-40 shadow-sm"><div className="max-w-7xl mx-auto px-6 h-14 flex items-center justify-between"><div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full bg-red-600 animate-pulse"></span><span className="font-bold text-sm uppercase tracking-wider">Live Feed</span></div><button onClick={onClose} className="text-sm font-medium text-gray-500 hover:text-black">Exit Demo</button></div></header><div className="bg-black text-white py-2 overflow-hidden whitespace-nowrap"><div className="inline-block animate-marquee">{stories.map(s => <span key={s.id} className="mx-8 text-sm font-medium uppercase tracking-wide">BREAKING: {s.title}</span>)} {stories.map(s => <span key={`dup-${s.id}`} className="mx-8 text-sm font-medium uppercase tracking-wide">BREAKING: {s.title}</span>)}</div></div><div className="max-w-7xl mx-auto px-6 py-8"><div className="grid grid-cols-1 lg:grid-cols-12 gap-6 mb-12"><div className="lg:col-span-8 cursor-pointer group" onClick={onSignup}><div className="aspect-video bg-gray-100 mb-4 overflow-hidden rounded-sm relative"><img src={stories[0].img} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" /><div className="absolute bottom-2 right-2 px-2 py-1 bg-black/50 backdrop-blur text-white text-[10px] font-medium rounded">Img: {stories[0].source}</div></div><span className="text-red-600 font-bold text-xs uppercase mb-2 block">{CATEGORIES.find(c => c.id === stories[0].cat)?.label}</span><h1 className="text-3xl md:text-4xl font-serif font-bold mb-3 hover:text-blue-900 transition-colors">{stories[0].title}</h1><p className="text-gray-600 text-lg leading-relaxed font-serif">{stories[0].summary}</p></div><div className="lg:col-span-4 flex flex-col gap-6 border-l border-gray-100 pl-6">{stories.slice(1, 4).map(story => (<div key={story.id} className="cursor-pointer group" onClick={onSignup}><h3 className="font-serif font-bold text-lg mb-1 group-hover:text-blue-900 transition-colors">{story.title}</h3><p className="text-gray-500 text-sm line-clamp-2">{story.summary}</p><div className="text-[10px] text-gray-400 mt-1">Source: {story.source}</div></div>))}</div></div><div className="grid grid-cols-2 lg:grid-cols-4 gap-6 pt-8 border-t border-gray-200 pb-20">{stories.slice(4).map(story => (<div key={story.id} className="cursor-pointer group" onClick={onSignup}><div className="aspect-square bg-gray-100 mb-3 overflow-hidden rounded-sm relative"><img src={story.img} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" /></div><h4 className="font-serif font-bold text-md leading-tight group-hover:text-blue-900 transition-colors">{story.title}</h4></div>))}</div></div><div className="fixed bottom-0 w-full bg-void/90 backdrop-blur border-t border-white/10 p-4 text-center z-50"><div className="flex flex-col md:flex-row items-center justify-center gap-4"><span className="text-white font-medium">This newsroom was generated in 45 seconds.</span><button onClick={onSignup} className="px-6 py-2 bg-primary text-white font-bold rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20">Claim This Newsroom</button></div></div></div>);
        }

        function RequestNiche() { const [submitted, setSubmitted] = useState(false); const handleSubmit = async (e) => { e.preventDefault(); const nicheInput = e.target.querySelector('input'); const nicheValue = nicheInput.value; const btn = e.target.querySelector('button'); const originalText = btn.innerHTML; btn.innerHTML = "Sending..."; try { const response = await fetch("https://formspree.io/f/mpqazqrn", { method: "POST", headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ niche_request: nicheValue, source: "Niche Section" }) }); if (response.ok) { setSubmitted(true); } else { alert("Error sending request. Please try again."); btn.innerHTML = originalText; } } catch (error) { alert("Network error."); btn.innerHTML = originalText; } }; return (<section className="py-20 px-6 bg-void border-t border-white/5"><div className="max-w-4xl mx-auto text-center"><h2 className="text-3xl font-bold mb-4">Don't see your niche?</h2><p className="text-gray-400 mb-8">We are training agents for new verticals every day.</p>{!submitted ? (<form onSubmit={handleSubmit} className="flex flex-col md:flex-row gap-4 max-w-lg mx-auto"><input type="text" placeholder="e.g. Crypto, Local Sports..." className="flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-primary transition-colors" required /><button type="submit" className="bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-xl font-semibold transition-colors flex items-center justify-center gap-2"><Icons.Send /> Request</button></form>) : <div className="p-4 bg-green-500/10 border border-green-500/20 rounded-xl inline-block text-green-400">Thanks! We've added that to our training queue.</div>}</div></section>); }

        function FounderSection() {
            return (
                <section id="founder" className="py-24 px-6 bg-black relative overflow-hidden">
                    <div className="max-w-5xl mx-auto relative z-10">
                        <div className="flex flex-col md:flex-row items-center gap-12">
                            <div className="w-48 h-48 md:w-64 md:h-64 flex-shrink-0 relative overflow-hidden rounded-full border-4 border-black shadow-2xl">
                                <div className="absolute inset-0 bg-gradient-to-tr from-primary to-blue-600 opacity-20 z-10"></div>
                                <img src="./founder.jpeg" alt="Hamza Azhar Salam" className="w-full h-full object-cover" style={{ objectPosition: "center 20%" }} />
                                <div className="absolute bottom-2 right-2 bg-black/80 backdrop-blur px-3 py-1 rounded-full border border-white/10 text-xs font-mono text-primary z-20">VIBE_CODER</div>
                            </div>
                            <div className="flex-1 text-center md:text-left">
                                <div className="inline-block px-3 py-1 bg-white/5 rounded-full text-xs font-medium text-gray-400 mb-4 border border-white/5">BUILT IN PUBLIC</div>
                                <h2 className="text-3xl md:text-4xl font-bold mb-4">Vibe Coder. Journalist. Founder.</h2>
                                <p className="text-lg text-gray-400 mb-6 leading-relaxed">
                                    I'm Hamza Azhar Salam, founder of <strong>The Pakistan Daily</strong>. My work has appeared in <strong>BBC</strong> and <strong>Haaretz</strong>, and I've made TV appearances on <strong>Sky News</strong>, <strong>France 24</strong>, and <strong>India Today</strong>.
                                    <br /><br />
                                    I spent years manually curating news. I taught myself to code to build the agent that does it for me.
                                </p>
                                <div className="flex flex-wrap justify-center md:justify-start gap-4">
                                    <a href="#" className="flex items-center gap-2 text-gray-400 hover:text-white transition-colors"><Icons.Twitter /> @HamzaAzharSalam</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            )
        }

        function FeaturesSection() { const features = [{ icon: <Icons.Zap />, title: "Autonomous Publishing", desc: "Set your niche, and our agents scout, verify, and publish 24/7." }, { icon: <Icons.Globe />, title: "Multi-Source Verification", desc: "Every story is cross-referenced against 3+ trusted sources." }, { icon: <Icons.Check />, title: "Human-in-the-Loop", desc: "Optional approval mode lets you swipe 'yes' or 'no' on every draft." }]; return (<section id="features" className="py-20 px-6 bg-black"><div className="max-w-7xl mx-auto"><div className="grid md:grid-cols-3 gap-12">{features.map((f, i) => (<div key={i} className="text-center"><div className="w-12 h-12 mx-auto bg-white/5 rounded-2xl flex items-center justify-center text-primary mb-4">{f.icon}</div><h3 className="text-xl font-bold mb-2">{f.title}</h3><p className="text-gray-400">{f.desc}</p></div>))}</div></div></section>); }

        function PricingSection({ onSignup }) { return (<section className="py-20 px-6" id="pricing"><div className="max-w-7xl mx-auto"><div className="text-center mb-16"><h2 className="text-4xl font-bold mb-4">Simple, Transparent Pricing</h2><p className="text-gray-400">Choose the plan that fits your publishing volume.</p></div><div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto"><div className="glass-panel p-8 rounded-3xl border-white/5 relative overflow-hidden"><div className="coming-soon"><span>Coming Soon</span></div><h3 className="text-xl font-bold mb-2">Starter</h3><div className="text-3xl font-bold mb-6">$99<span className="text-lg text-gray-500 font-normal">/mo</span></div><ul className="space-y-4 mb-8 text-gray-400 text-sm"><li className="flex gap-2"><Icons.CheckSmall /> 300 Stories / Month</li><li className="flex gap-2"><Icons.CheckSmall /> 30 Social Posts</li></ul><button disabled className="w-full py-3 bg-white/5 text-gray-500 font-semibold rounded-xl cursor-not-allowed">Select Plan</button></div><div className="relative p-8 rounded-3xl bg-primary/10 border border-primary/50 shadow-2xl relative overflow-hidden"><div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary px-3 py-1 rounded-full text-xs font-bold tracking-wide">MOST POPULAR</div><h3 className="text-xl font-bold mb-2 text-primary">Growth</h3><div className="text-3xl font-bold mb-6">$299<span className="text-lg text-gray-500 font-normal">/mo</span></div><ul className="space-y-4 mb-8 text-gray-300 text-sm"><li className="flex gap-2"><Icons.CheckSmall /> 900 Stories / Month</li><li className="flex gap-2"><Icons.CheckSmall /> 90 Social Posts</li><li className="flex gap-2"><Icons.CheckSmall /> Priority AI Queue</li></ul><button onClick={onSignup} className="w-full py-3 bg-primary hover:bg-primary/90 text-white font-semibold rounded-xl transition-colors">Start Free Trial</button></div><div className="glass-panel p-8 rounded-3xl border-white/5 relative overflow-hidden"><div className="coming-soon"><span>Coming Soon</span></div><h3 className="text-xl font-bold mb-2">Scale</h3><div className="text-3xl font-bold mb-6">$799<span className="text-lg text-gray-500 font-normal">/mo</span></div><ul className="space-y-4 mb-8 text-gray-400 text-sm"><li className="flex gap-2"><Icons.CheckSmall /> 2,400 Stories / Month</li><li className="flex gap-2"><Icons.CheckSmall /> API Access</li></ul><button disabled className="w-full py-3 bg-white/5 text-gray-500 font-semibold rounded-xl cursor-not-allowed">Contact Sales</button></div></div></div></section>); }

        function SignupModal({ onClose }) { const [step, setStep] = useState(1); const handleSubmit = async (e) => { e.preventDefault(); const email = e.target.elements[0].value; const company = e.target.elements[1].value; const btn = e.target.querySelector('button'); const originalText = btn.innerHTML; btn.innerHTML = "Sending..."; try { const response = await fetch("https://formspree.io/f/mpqazqrn", { method: "POST", headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: email, company: company }) }); if (response.ok) { setStep(2); } else { alert("There was an issue saving your details. Please try again."); btn.innerHTML = originalText; } } catch (error) { alert("Network error. Please check your connection."); btn.innerHTML = originalText; } }; return (<div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"><motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0, scale: 0.95 }} className="bg-gray-900 border border-white/10 rounded-2xl w-full max-w-md p-8 relative shadow-2xl"><button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-white"><Icons.Close /></button>{step === 1 ? (<><h3 className="text-2xl font-bold mb-2">Create Your Newsroom</h3><p className="text-gray-400 mb-6 text-sm">Start your 7-day free trial. No commitment.</p><form className="space-y-4" onSubmit={handleSubmit}><div><label className="block text-xs font-medium text-gray-500 uppercase mb-1">Email Address</label><input type="email" required className="w-full bg-black border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-primary" placeholder="you@company.com" /></div><div><label className="block text-xs font-medium text-gray-500 uppercase mb-1">Company / Publication Name</label><input type="text" className="w-full bg-black border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-primary" placeholder="Daily Tech News" /></div><button type="submit" className="w-full py-3 bg-primary hover:bg-primary/90 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2"><Icons.Lock /> Secure Signup</button></form><p className="text-center text-xs text-gray-600 mt-4">We'll create a demo environment and email you the login.</p></>) : (<div className="text-center py-8"><div className="w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center text-green-500 mx-auto mb-4"><Icons.Check /></div><h3 className="text-2xl font-bold mb-2">Your Newsroom is being provisioned.</h3><p className="text-gray-400 mb-6">Our team is configuring your custom agent. You will receive your private newsroom link via email within 4 hours.</p><button onClick={onClose} className="w-full py-3 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg">Got it</button></div>)}</motion.div></div>); }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>